---
title: 'Motor Trend: Which is better Manual or Automatic?'
author: "Frank Jung"
date: "21 September 2015"
output: 
  pdf_document: 
    fig_caption: yes
    fig_crop: no
    latex_engine: xelatex
    toc: yes
classoption: legalpaper    
---

# Executive Summary

This report seeks to answer the question: Which is better for milage: automatic 
or manual. Furthermore, can we quantify any milage differences between these two
transmission types? To answer this question //Motor Trend// has surveyed various
performance metrics. This report shows that of the many automobile attributes
surveyed by //Motor Trend//, the inclusion of just a few namely, //Transmission
Type//, //Weight// and //1/4 mile time// provide a better prediction of milage.

# Exploratory Analysis

```{r setoptions, echo=FALSE}
require(knitr, quietly = TRUE)
require(ggplot2, quietly = TRUE)
knitr::opts_chunk$set(echo = FALSE, cache = TRUE, cache.path = "cache/", fig.path = "figure/", fig.align = "center")
# declare dataset
require(datasets, quietly = TRUE)
data(mtcars)
attach(mtcars)
```

The cars dataset contains three categorical observations 


# Choose Model


# References

* [GitHub repository containing project code](https://github.com/frankjung/regmods-project1)
* [Henderson and Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391â€“411.](https://github.com/frankhjung/regmods-project/blob/master/mtcars-henderson.pdf)
* [MT Cars Dataset](https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html)
* [Report Session Information](#session_information)
* V/S - [V-shaped](https://en.wikipedia.org/wiki/V_engine) / [Straight](https://en.wikipedia.org/wiki/Straight_engine) engines

# Appendices

## Exploratory Analysis

```{r explore, fig.cap="Exploratory Analysis"}
# note categorical variables am, cyl, vs
str(mtcars)

# no outliers we need worry about
summary(mtcars)

# nieve model fit to show relative correlations between all observations
summary(lm(mpg ~ . - 1, mtcars))$coef

# what does mpg vs am look like?
boxplot(mpg ~ am, mtcars, xaxt = "n", xlab = "Transmission Type", ylab = "Miles/(US) gallon")
points(am + 1, mpg, pch = 19, col = ((am == 0)*1 + 1))
axis(1, at = c(1, 2), labels = c("automatic", "manual"))
title(main = "Milage by Transmission Type")
```


## Choose Model

```{r stepwise, fig.cap="Choose Model", echo=FALSE, message=FALSE, warning=FALSE}
# stepwise regression to determine best model
library(MASS)
fit <- lm(mpg ~ ., mtcars)
step <- stepAIC(fit, direction = "both")
# display results
step$anova 
```

```{r bestfit, fig.cap="Best Model Fit"}
# best model
fit <- lm(mpg ~ wt + qsec + am, mtcars)
summary(fit)
round(cor(mtcars[, c("mpg", "wt", "qsec", "am")]), 3)
par(mfrow = c(2, 2))
plot(fit)
```

## Session Information

```{r systemconfig, echo=FALSE, , fig.cap="Session Information"}
sessionInfo()
```